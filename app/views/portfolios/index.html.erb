
<h1><%= link_to "ポートフォリオ", portfolios_path %></h1>


<%= search_form_for @q do |f| %>

  <%= f.label :主な言語 %>
  <%= f.select :portfolio_language_eq, Portfolio.portfolio_languages_i18n.invert.map{|key, value| [key, Portfolio.portfolio_languages[value]]}, { include_blank:'指定なし' } %>


  <%= f.label :framework_name, "キーワード検索" %>
  <%= f.search_field :frameworks_framework_name_cont, placeholder: "半角英数字(小文字)" %>
  <%= f.submit "検索" %>
<% end %>


<h5><%= sort_link(@q, :created_at, "新規順並び変え") %></h5>
<%# <%= link_to 'いいね多い順', portfolios_path(hoge: true) %> 



<h5><span class="name">*詳細を見るには画像をクリックしてください*</span></h5>

<div class="container">
  <div class="row">

 <% @portfolios.each do |portfolio| %>
   <div class="col-md-4">
     <div class="card-deck" style="width:22rem">
    
       <div class="card card_topic pf-main">
       <div class="p-image">
       <% if portfolio.portfolio_image.url.present? %>
          <%= link_to image_tag(portfolio.portfolio_image.url, size: '320x200', class: "card-img-top"), portfolio, data: {"turbolinks"=>false} %>
       <% else %>
          <%= link_to image_tag(asset_path("no_image.png"), size: '320x200', class: "card-img-top"), portfolio, data: {"turbolinks"=>false}%>
       <% end %>
      </div>
        
     <div class="card-body ">
       <h5 class="card-title">タイトル:<%= portfolio.portfolio_title %></h5>
       <p>メイン言語:<%= portfolio.portfolio_language %></p>
     <div class="framework-wrapper">
       <p>使用したスキル</p>
       <ul class="framework">
       <% portfolio.frameworks.each do |p| %>
            <% if p.framework_name.present? %>
            <li><%= p.framework_name %></li>
            <% end %>
       <% end %>
       </ul>
     </div>
     </div>

     <div class="pf-footer">
     <div class="p-footer">
       <p><%= portfolio.created_at.strftime("%Y-%m-%d") %></p>
     </div>
     <div class="p-like">
       <p>お気に入り数<%= portfolio.favorites.count %></p>
       
     </div>
     
    </div>

      </div>
      </div>
    </div>
    
<% end %>

  </div>
  
</div>
<% unless params[:hoge] == "true"  %>
  <%= paginate (@portfolios) %>
<% end %>



